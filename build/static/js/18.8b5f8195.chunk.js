(this["webpackJsonpFleek-Admin-Portal"]=this["webpackJsonpFleek-Admin-Portal"]||[]).push([[18],{1733:function(e,t,a){"use strict";a.r(t);var n=a(126),l=a(127),r=a(129),s=a(128),i=a(0),u=a.n(i),m=a(953),c=a(436),d=a(136),o=a(1031),y=a(1032),g=a(1148),p=a(1355),E=a(1734),b=a(1738),_=a(105),h=a(1088),f=a.n(h),k=a(287),x=m.a.Option,v=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).setPaid=function(e){var t={id:e.id};f.a.put(k.api_base_url+"updatePaymentRequest",t,k.axios_config).then((function(e){e.data.status?(c.b.success(e.data.message),l.setState({isLoading:!0}),l.handleChangeStatus("pending")):c.b.error(e.data.message)})).catch((function(e){c.b.error("Something went wrong!",e)}))},l.handleChangeStatus=function(e){l.setState({isLoading:!0,is_payment_get:!0,status:e});var t={method:k.method,headers:k.headers,body:JSON.stringify({status:e})};fetch(k.api_base_url+"listAllPaymentRequest",t).then((function(e){return e.json()})).then((function(e){l.setState({payment_requests_data:e.data,isLoading:!1})})).catch()},l.state={payment_requests_data:[],isLoading:!0,is_payment_get:!1,payment_status:[{name:"pending"},{name:"completed"}],status:"pending",viewBankDetailsModal:!1,bankDetails:null,type:""},l.columns=[{title:"ID",dataIndex:"id",key:"full_name"},{title:"Name",dataIndex:"full_name",key:"full_name"},{title:"Requested Amount ($)",dataIndex:"requested_amount",key:"requested_amount"},{title:"Payment Type",dataIndex:"type",key:"type"},{title:"Barber ID",dataIndex:"barber_id",key:"barber_id"},{title:"Status",dataIndex:"status",key:"status"},{title:"Paid",dataIndex:"",key:"x",render:function(e){return u.a.createElement(d.a,{type:"primary",onClick:function(){return l.setPaid(e)}},"Paid")}},{title:"View Details",dataIndex:"",key:"x",render:function(e){return u.a.createElement(d.a,{type:"primary",onClick:function(){return l.viewPaymentDetails(e)}},"View Bank Details")}}],l.columns_completed=[{title:"ID",dataIndex:"id",key:"full_name"},{title:"Name",dataIndex:"full_name",key:"full_name"},{title:"Requested Amount ($)",dataIndex:"requested_amount",key:"requested_amount"},{title:"Payment Type",dataIndex:"type",key:"type"},{title:"Barber ID",dataIndex:"barber_id",key:"barber_id"},{title:"View Details",dataIndex:"",key:"x",render:function(e){return u.a.createElement(d.a,{type:"primary",onClick:function(){return l.viewPaymentDetails(e)}},"View Bank Details")}}],l}return Object(l.a)(a,[{key:"viewPaymentDetails",value:function(e){var t=this;this.setState({type:e.type});var a={method:k.method,headers:k.headers,body:JSON.stringify({barber_id:e.barber_id,type:e.type})};fetch(k.api_base_url+"viewPaymentDetails",a).then((function(e){return e.json()})).then((function(e){t.setState({bankDetails:e.data[0]}),t.setViewBankDetailsModal(!0)})).catch()}},{key:"setViewBankDetailsModal",value:function(e){this.setState({viewBankDetailsModal:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.payment_requests_data,n=t.isLoading,l=t.payment_status,r=t.is_payment_get,s=t.status,i=t.viewBankDetailsModal,c=t.bankDetails,h=t.type,f=u.a.createElement(_.a,{style:{fontSize:24},spin:!0});return u.a.createElement(u.a.Fragment,null,u.a.createElement(o.a,null,u.a.createElement(y.a,{span:24},u.a.createElement("h2",{className:"title gx-mb-4"},"Payment Requested By Barber"),u.a.createElement("div",{style:{marginBottom:"1%"}},u.a.createElement(m.a,{defaultValue:"Search By Status",style:{width:"30%"},onChange:this.handleChangeStatus},l.map((function(e){return u.a.createElement(x,{value:e.name},e.name)}))))),r?u.a.createElement(u.a.Fragment,null,n?u.a.createElement(g.a,{indicator:f}):u.a.createElement(u.a.Fragment,null,"pending"===s?u.a.createElement(y.a,{span:24},u.a.createElement(p.a,{title:"Pending Payment Requests"},u.a.createElement(E.a,{className:"gx-table-responsive",columns:this.columns,dataSource:a}))):u.a.createElement(y.a,{span:24},u.a.createElement(p.a,{title:"Completed Payment Requests"},u.a.createElement(E.a,{className:"gx-table-responsive",columns:this.columns_completed,dataSource:a}))))):null),u.a.createElement(b.a,{centered:!0,visible:i,footer:null,header:null,onCancel:function(){return e.setViewBankDetailsModal(!1)}},u.a.createElement("h1",{className:"gx-text-grey gx-mb-2"},"Transfer Details"),u.a.createElement("p",{className:"gx-text-grey gx-mb-2"},u.a.createElement(u.a.Fragment,null,h?u.a.createElement(u.a.Fragment,null,"bank_address"===h?u.a.createElement(u.a.Fragment,null,c?u.a.createElement(u.a.Fragment,null,u.a.createElement("strong",null,"Account Name : "),c.acc_name," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Account Number : "),c.acc_num," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Bank Address : "),c.bank_address," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Local Address : "),c.local_address," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Routing Number : "),c.routing_num," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Swift Code : "),c.swift_code," ",u.a.createElement("br",null)):null):u.a.createElement(u.a.Fragment,null,c?u.a.createElement(u.a.Fragment,null,u.a.createElement("strong",null,"Full Name : "),c.full_name," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Address 1 : "),c.address_1," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Address 2 : "),c.address_2," ",u.a.createElement("br",null),u.a.createElement("strong",null,"City : "),c.city," ",u.a.createElement("br",null),u.a.createElement("strong",null,"State : "),c.state," ",u.a.createElement("br",null),u.a.createElement("strong",null,"Postal Code : "),c.postal_code," ",u.a.createElement("br",null)):null)):null)),u.a.createElement("div",{className:"gx-card-list-footer"},u.a.createElement(d.a,{onClick:function(){return e.setViewBankDetailsModal(!1)}},"Done"))))}}]),a}(u.a.Component);t.default=v}}]);
//# sourceMappingURL=18.8b5f8195.chunk.js.map